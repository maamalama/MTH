// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace Admin.Shared
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using Admin;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using Admin.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\MTH\analysis\MTHAnalysis\Admin\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\MTH\analysis\MTHAnalysis\Admin\Shared\Dashboard.razor"
using Admin.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\MTH\analysis\MTHAnalysis\Admin\Shared\Dashboard.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\MTH\analysis\MTHAnalysis\Admin\Shared\Dashboard.razor"
using System.Text;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public partial class Dashboard : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 85 "D:\MTH\analysis\MTHAnalysis\Admin\Shared\Dashboard.razor"
       


    Users users;
    int UsersCount = 0;
    DateTime? A;
    int B = 0;
    int C = 0;
    int D = 0;
    int F = 0;

    protected override async Task OnInitializedAsync()
    {
        users = await GetUsers();
        UsersCount = users.users.Count();
        A = users.users.OrderByDescending(x => x.created_at).FirstOrDefault().created_at;
        B = users.users.Where(x => x.sex == "женский").Count();
        C = users.users.Where(x => x.sex == "мужской").Count();
        D = users.users.Where(x => x.comment_positively == 1).ToList().Count;
        F = users.users.Where(x => x.comment_positively == 0).ToList().Count;
    }

    private async Task<Users> GetUsers()
    {
        var user = new Dat {type = "user2"};
        string json = JsonConvert.SerializeObject(user);
        StringContent content = new StringContent(json, Encoding.UTF8, "application/json");


    /*HttpResponseMessage response = await HttpClient.GetAsync("https://81.177.165.209:3000/user");
        response.EnsureSuccessStatusCode();
        var settings = new JsonSerializerSettings
        {
            NullValueHandling = NullValueHandling.Ignore,
            MissingMemberHandling = MissingMemberHandling.Ignore
        };
        string responseBody = await response.Content.ReadAsStringAsync();*/

        var usersS = await HttpClient.GetStringAsync("users.json");
        var users = JsonConvert.DeserializeObject<Users>(usersS);
        return users;
    }

    int dataSize = 4;
    double[] data = {77, 25, 20, 5};
    string[] labels = {"22-30", "16-18", "30-40", "50+",};

    Random random = new Random();

    void RandomizeData()
    {
        var new_data = new double[dataSize];
        for (int i = 0; i < new_data.Length; i++)
            new_data[i] = random.NextDouble() * 100;
        data = new_data;
        StateHasChanged();
    }

    void AddDataSize()
    {
        if (dataSize < 20)
        {
            dataSize = dataSize + 1;
            RandomizeData();
        }
    }

    void RemoveDataSize()
    {
        if (dataSize > 0)
        {
            dataSize = dataSize - 1;
            RandomizeData();
        }
    }

    public List<ChartSeries> Series = new List<ChartSeries>()
    {
        new ChartSeries() {Name = "Женщины", Data = new double[] {40, 20, 25, 27, 46, 60, 48, 80, 15}},
        new ChartSeries() {Name = "Мужчины", Data = new double[] {19, 24, 35, 13, 28, 15, 13, 16, 31}},
        new ChartSeries() {Name = "Другое", Data = new double[] {8, 6, 11, 13, 4, 16, 10, 16, 18}},
    };

    public string[] XAxisLabels = {"Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep"};

    public int IsDownloadStarted { get; set; } = 0;
    protected async Task DownloadFile()
    {
        
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient HttpClient { get; set; }
    }
}
#pragma warning restore 1591
